####################################################################################################
######################################### Program Name #############################################
####################################################################################################

NAME		= teste_gmp

####################################################################################################
######################################### Compiler #################################################
####################################################################################################

CXX			= gcc
CXXFLAGS	+= -Wall -Wextra -Werror

####################################################################################################
##################################### Include Folders ##############################################
####################################################################################################

INCLUDE		=	$(addprefix -I ./includes, \
			/ \
			/0_folder \
			/1_folder \
			)

####################################################################################################
######################################### Headers files ############################################
####################################################################################################

MAIN_HEADERS	= $(addprefix ./includes/, \
					./ \
					$(FOLDER_1_H) \
					$(FOLDER_2_H) \
				)

FOLDER_1_H		= $(addprefix 0_folder/, \
					teste.h \
				)

FOLDER_2_H		= $(addprefix 1_folder/, \
					teste2.h \
				)

####################################################################################################
########################################## Source files ############################################
####################################################################################################

SRC				= $(addprefix src/, \
					$(FOLDER_1_SRC) \
					$(FOLDER_2_SRC) \
					main.c \
				)

FOLDER_1_SRC	= $(addprefix 0_folder/, \
					teste.c \
				)

FOLDER_2_SRC	= $(addprefix 1_folder/, \
					teste2.c \
				)

####################################################################################################
########################################## Objects files ###########################################
####################################################################################################

%.o: %.c $(MAIN_HEADERS)
	$(CC) $(CFLAGS) $(INCLUDE) -c $< -o $(<:%.c=$(OBJ_DIR)%.o)

OBJ_DIR		= obj/
OBJ_FT		= $(SRC:%.c=%.o)
OBJ_FILES	= $(addprefix $(OBJ_DIR),$(OBJ_FT))

all: $(NAME)

$(NAME): $(OBJ_DIR) $(OBJ_FT)
	$(CXX) $(CXXFLAGS) $(OBJ_FILES) -o $(NAME)

$(OBJ_DIR):
	@mkdir -p $(OBJ_DIR)/src
	@mkdir -p $(OBJ_DIR)/src/0_folder
	@mkdir -p $(OBJ_DIR)/src/1_folder

####################################################################################################
########################################## Default Rules ###########################################
####################################################################################################

clean:
	rm -rf $(OBJ_DIR)

fclean: clean
	rm -rf $(NAME)

re: fclean all

.PHONY: all clean fclean re

####################################################################################################
####################################################################################################
####################################################################################################
